body {
  font-family: Arial, sans-serif;
  background: #f0f4f8;
  text-align: center;
  margin: 20px;
}

#daftar-buku {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
}

.card {
  background: white;
  border-radius: 10px;
  padding: 15px;
  width: 200px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
async function tampilkanBuku() {
  const res = await fetch('data/buku.json');
  const data = await res.json();
  const container = document.getElementById('daftar-buku');
  const searchInput = document.getElementById('search');

  // Fungsi render buku
  function render(bukuList, keyword = '') {
    container.innerHTML = '';

    if (bukuList.length === 0) {
      container.innerHTML = <p style="color:#888;">‚ùå Buku tidak ditemukan</p>;
      return;
    }

    bukuList.forEach(buku => {
      const judul = highlightText(buku.judul, keyword);
      const penulis = highlightText(buku.penulis, keyword);

      const card = document.createElement('div');
      card.className = 'card animate';
      card.innerHTML = `
        <h3>${judul}</h3>
        <p>‚úçÔ∏è Penulis: ${penulis}</p>
        <p>üìÖ Tahun: ${buku.tahun}</p>
        <p><b>${buku.tersedia ? "Tersedia ‚úÖ" : "Dipinjam ‚ùå"}</b></p>
      `;
      container.appendChild(card);
    });
  }

  // Fungsi untuk menyorot teks yang dicari
  function highlightText(text, keyword) {
    if (!keyword) return text;
    const regex = new RegExp((${keyword}), 'gi');
    return text.replace(regex, <mark>$1</mark>);
  }

  // Render awal
  render(data);

  // Event pencarian real-time
  searchInput.addEventListener('input', e => {
    const keyword = e.target.value.trim().toLowerCase();
    const hasil = data.filter(b =>
      b.judul.toLowerCase().includes(keyword) ||
      b.penulis.toLowerCase().includes(keyword)
    );
    render(hasil, keyword);
  });
}

tampilkanBuku();
